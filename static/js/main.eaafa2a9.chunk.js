(this.webpackJsonpsw_miniproject=this.webpackJsonpsw_miniproject||[]).push([[0],{118:function(e,t,a){e.exports=a(163)},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=a(18),i=a(19),s=a(20),m=a(21),u=a(59),d=a(10),h=a(22),p=a.n(h),f=a(31),g=a(6);a(80),a(125),a(128);var v={signInFlow:"popup",signInOptions:[g.auth.GoogleAuthProvider.PROVIDER_ID]},E=g.initializeApp({apiKey:"AIzaSyCf_mkXtz0olQbQCvkxSQIsBDxHG3gmUWc",authDomain:"formidable-code-289123.firebaseapp.com",databaseURL:"https://formidable-code-289123.firebaseio.com",projectId:"formidable-code-289123",storageBucket:"formidable-code-289123.appspot.com",messagingSenderId:"787679922806",appId:"1:787679922806:web:166f2c3ed5ed3c336ead57",measurementId:"G-ZSP3C26YPJ"}),b=E.firestore(),y=E.database(),C=a(28),x=a(197),j=a(199),N=a(25),O=Object(x.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})),k=function(){var e=O();return r.a.createElement("div",{className:e.root,style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(N.a,null,r.a.createElement("title",null,"Loading...")),r.a.createElement(j.a,{color:"secondary"}))},S=r.a.createContext(),w=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(C.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!0),s=Object(C.a)(i,2),m=s[0],u=s[1];return r.a.useEffect((function(){E.auth().onAuthStateChanged((function(e){o(e),u(!1);var t=y.ref("users/".concat(e.uid));t.on("value",(function(a){a.val()||t.set({email:e.email})}),(function(e){console.log("The read failed: "+e.code)}))}))}),[]),m?r.a.createElement(k,null):r.a.createElement(S.Provider,{value:{currentUser:l}},t)};a(133);function T(e){var t=e.error_code,a=e.error_message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"overlay"},r.a.createElement("main",{className:"bsod container"},r.a.createElement("h1",{className:"neg title"},r.a.createElement("span",{className:"bg"},"Error - ".concat(t))),r.a.createElement("p",{className:"err-text"},a),r.a.createElement("p",{className:"err-text"},"* Return to our"," ",r.a.createElement("a",{href:"/",className:"link"},"homepage"),"."),r.a.createElement("nav",{className:"nav"},r.a.createElement("a",{href:"/login",className:"link"},"login"),"\xa0|\xa0",r.a.createElement("a",{href:"/register",className:"link"},"register")))))}var D=a(201),F=a(202),R=a(47),I=a(203),U=a(95),A=a.n(U),_=Object(x.a)((function(e){return{root:{flexGrow:1},navBar:{backgroundColor:"#fbfbfb"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#000",margin:"auto"},textColor:{color:"#000",marginRight:"1rem"},imgSize:{height:"2rem"}}}));function P(e){var t=e.counter>0?"Time to get checked":"Cleared",a=_(),c=Object(n.useContext)(S).currentUser;return b.collection("admins").get().then((function(e){})),r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:a.navBar,position:"static"},r.a.createElement(F.a,null,r.a.createElement("div",{className:a.root},r.a.createElement("a",{href:"/"},r.a.createElement("img",{className:a.imgSize,src:A.a,alt:"Logo image"}))),r.a.createElement(R.a,{variant:"body1",className:a.title},"Your current Covid status is: ",t),r.a.createElement(R.a,{variant:"body1",className:a.textColor},"Logged in as:"," ",c.email.substring(0,c.email.indexOf("@"))),r.a.createElement(I.a,{className:a.textColor,onClick:function(){return E.auth().signOut()},color:"inherit"},"Logout"))))}var W=a(96),B=a.n(W),L=a(204),z=a(205),Y=a(206),M=a(207),q=Object(x.a)((function(e){return{textColor:{color:"black",fontSize:"2rem"}}}));function G(e){var t=e.stat,a=q();return r.a.createElement("div",null,r.a.createElement(L.a,null,r.a.createElement(z.a,null,r.a.createElement(Y.a,{primaryTypographyProps:!0,className:a.textColor,disableTypography:!0,primary:r.a.createElement(R.a,{variant:"h5",style:{color:"#000"}}," ","".concat(t.Country,": ").concat(t.TotalDeaths))}))),r.a.createElement(M.a,{light:!0}))}function J(e){var t=e.stats;console.log(t);var a=t.sort(H).reverse().slice(0,5).map((function(e){return r.a.createElement(G,{stat:e})}));return r.a.createElement("div",{className:"media-list"},r.a.createElement(R.a,{variant:"h2"},"Top Deaths:"),a)}function H(e,t){return e.TotalDeaths<t.TotalDeaths?-1:e.TotalDeaths>t.TotalDeaths?1:0}a(134);var Q=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"hero-box"},r.a.createElement(R.a,{className:"hero-text",variant:"h2"},"Covid 19 has gone around the globe"),r.a.createElement("div",{className:"stats-box"},r.a.createElement(J,{stats:this.props.stats})),r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{className:"corona-img",src:B.a,alt:"Coronavirus imageeee"})),r.a.createElement(R.a,{className:"sub-text",variant:"h5"},"#WearAMask"))}}]),a}(n.Component),K=a(99),V=a(60),X=a(5),Z=a(74),$=a.n(Z),ee=(a(135),a(220)),te=a(208);var ae=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")},ne=Object(X.a)({root:{color:$.a[400],"&$checked":{color:$.a[600]}},checked:{}})((function(e){return r.a.createElement(ee.a,Object.assign({color:"default"},e))})),re=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onCheckboxChange=function(e){var t=Object(K.a)(n.state.checked);t[e]=!n.state.checked[e],n.setState({checked:t},(function(){n.props.counterCheck(n.state.checked)}))},n.handleSubmit=Object(f.a)(p.a.mark((function e(){var t,a,r,c,l,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Date,a=ae(t),console.log(n.state.user.currentUser),r=n.state.user.currentUser.email.split("@"),"".concat(r[0],"-").concat(r[1]),c={},l=n.state.user.currentUser.uid,c[l]={email:n.state.user.currentUser.email,num_symptoms:n.state.checked.filter((function(e){return!0===e})).length},o={email:n.state.user.currentUser.email,num_symptoms:n.state.checked.filter((function(e){return!0===e})).length},(i=y.ref("responses/".concat(a))).on("value",(function(e){e.val()?i.child(l).set(o):i.set(c)}),(function(e){console.log("The read failed: "+e.code)}));case 11:case"end":return e.stop()}}),e)}))),n.state={checked:[!1,!1,!1,!1,!1,!1,!1,!1],user:null},n.symptoms=["Fever or chills","Coughing","Shortness of breath or difficulty breathing","Fatigue","Muscle or body aches","Headache","New loss of taste or smell","Nausea or vomiting"],n.handleSubmit=n.handleSubmit.bind(Object(V.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({user:this.context})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:"container-main"},r.a.createElement("div",{className:t.secondaryContainer},r.a.createElement(R.a,{className:t.textColor,variant:"h2"},"Symptom tracker")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:t.container},this.symptoms.map((function(a,n){return r.a.createElement(te.a,{variant:!0,labelPlacement:"top",control:r.a.createElement(ne,{className:t.checkBox,checked:e.state.checked[n],onChange:function(){return e.onCheckboxChange(n)},name:"checkedB",color:"primary"}),label:r.a.createElement(R.a,{className:t.textColor,variant:"h8"},a)})}))),r.a.createElement("div",{className:t.thirdContainer},r.a.createElement(R.a,{className:t.textColorTwo,variant:"h4",style:this.props.getStyles()},"You need to get checked")),r.a.createElement(I.a,{variant:"contained",color:"primary",size:"large",onClick:this.handleSubmit},"Submit"))}}]),a}(r.a.Component);re.contextType=S;var ce=Object(X.a)((function(e){return{container:{width:"100%",height:"40vh",display:"flex",justifyContent:"space-evenly",alignItems:"center"},secondaryContainer:{display:"flex",justifyContent:"center",marginBottom:"-7rem"},checkBox:{transform:"scale(2)",marginTop:"2rem"},textColor:{color:"#f8f9fa",marginTop:"4rem"},thirdContainer:{display:"flex",justifyContent:"center"},textColorTwo:{marginBottom:"3rem"}}}),{withTheme:!0})(re);a(136);function le(e){var t=e.country;return void 0===t[0]?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"stat-info"},r.a.createElement(R.a,{className:"item",variant:"h4"},"Country: "),r.a.createElement(R.a,{className:"item",variant:"h5"},"Date: "),r.a.createElement(R.a,{className:"item",variant:"h5"},"New Cases: "),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Cases: "),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Deaths: "),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Recovered: "))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"stat-info"},r.a.createElement(R.a,{className:"item",variant:"h4"},"Country: ".concat(t[0].Country)),r.a.createElement(R.a,{className:"item",variant:"h5"},"Date: ".concat((new Date).getMonth()+1,"/").concat((new Date).getDate(),"/").concat((new Date).getFullYear())),r.a.createElement(R.a,{className:"item",variant:"h5"},"New Cases: ".concat(t[0].NewConfirmed)),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Cases: ".concat(t[0].TotalConfirmed)),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Deaths: ".concat(t[0].TotalDeaths)),r.a.createElement(R.a,{className:"item",variant:"h5"},"Total Recovered: ".concat(t[0].TotalRecovered))))}var oe=a(218),ie=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={term:""},e.onInputChange=function(t){e.setState({term:t.target.value}),console.log(t.target.value)},e.onFormSubmit=function(t){t.preventDefault(),e.props.onTermSubmit(e.state.term),e.setState({term:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"2rem 0 2rem 0",width:"30%"}},r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement(oe.a,{fullWidth:!0,inputProps:{min:0,style:{textAlign:"center"}},id:"standard-basic",label:"Search for a country",value:this.state.term,onChange:this.onInputChange}))))}}]),a}(r.a.Component),se=a(97),me=a.n(se),ue=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={stats:[],counter:0,symptoms:[],country:[]},e.counterCheck=function(t){var a=0;t.map((function(e){e&&(a+=1)})),e.setState({counter:a}),console.log(e.state.counter)},e.onTermSubmit=function(t){e.setState({country:e.state.stats.filter((function(e){return e.Slug===t.toLowerCase()}))})},e.getStyles=function(){return 0===e.state.counter?{color:"#343a40"}:1===e.state.counter?{color:"yellow",textShadow:"0 2px 1.3rem yellow"}:{color:"red",textShadow:"0 2px 1.3rem red"}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me.a.get("https://api.covid19api.com/summary").then((function(e){e.data.Countries&&t.setState({stats:e.data.Countries})})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.b,null,r.a.createElement("title",null,"CovidTrack \u2022 Home")),r.a.createElement(P,{counter:this.state.counter}),r.a.createElement(Q,{stats:this.state.stats}),r.a.createElement(ce,{counterCheck:this.counterCheck,checked:this.state.checked,getStyles:this.getStyles,onCheckboxChange:this.onCheckboxChange}),r.a.createElement("div",{style:{width:"80vw",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(ie,{onTermSubmit:this.onTermSubmit}),r.a.createElement(le,{country:this.state.country})))}}]),a}(n.Component),de=a(67),he=a.n(de),pe=a(211),fe=a(209),ge=a(165),ve=a(219),Ee=a(210),be=a(73),ye=a.n(be),Ce=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(he.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function xe(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(fe.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var je=Object(d.g)((function(e){var t=e.history,a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){var r,l,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=[a.current,c.current],l=r[0],o=r[1],e.prev=2,e.next=5,E.auth().signInWithEmailAndPassword(l.value,o.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]),o=Object(n.useContext)(S).currentUser,i=Ce();return console.log(o),o?r.a.createElement(d.a,{to:"/"}):r.a.createElement(Ee.a,{container:!0,component:"main",className:i.root},r.a.createElement(pe.a,null),r.a.createElement(Ee.a,{item:!0,xs:!1,sm:4,md:7,className:i.image}),r.a.createElement(Ee.a,{item:!0,xs:12,sm:8,md:5,component:ge.a,elevation:6,square:!0}," ",r.a.createElement(pe.a,null),r.a.createElement(N.a,null,r.a.createElement("title",null,"CovidTrack \u2022 Login")),r.a.createElement("div",{className:i.paper},r.a.createElement("img",{src:"/covid-tracker-logo.png",style:{height:"50px"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ye.a,{uiConfig:v,firebaseAuth:E.auth()}),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Or"),r.a.createElement("form",{className:i.form,onSubmit:l},r.a.createElement(oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:a,autoFocus:!0}),r.a.createElement(oe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",inputRef:c,autoComplete:"current-password"}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit},"Sign In"),r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:!0}),r.a.createElement(Ee.a,{item:!0},r.a.createElement(fe.a,{href:"/register",variant:"body2"},"Don't have an account? Sign Up"))),r.a.createElement(ve.a,{mt:5},r.a.createElement(xe,null))))))})),Ne=Object(x.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(he.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Oe(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(fe.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var ke=Object(d.g)((function(e){var t=e.history,a=Object(n.useRef)(),c=Object(n.useRef)(),l=Object(n.useRef)(),o=Object(n.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){var r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=[a.current,l.current],c=r[0],o=r[1],e.prev=2,e.next=5,E.auth().createUserWithEmailAndPassword(c.value,o.value).then((function(){t.push("/")}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),i=Object(n.useContext)(S).currentUser,s=Ne();return console.log(i),i?r.a.createElement(d.a,{to:"/"}):r.a.createElement(Ee.a,{container:!0,component:"main",className:s.root},r.a.createElement(pe.a,null),r.a.createElement(Ee.a,{item:!0,xs:!1,sm:4,md:7,className:s.image}),r.a.createElement(Ee.a,{item:!0,xs:12,sm:8,md:5,component:ge.a,elevation:6,square:!0}," ",r.a.createElement(pe.a,null),r.a.createElement(N.a,null,r.a.createElement("title",null,"CovidTrack \u2022 Login")),r.a.createElement("div",{className:s.paper},r.a.createElement("img",{src:"/covid-tracker-logo.png",style:{height:"50px"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{className:s.form,onSubmit:o},r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(oe.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"Full Name",inputRef:c,autoFocus:!0})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(oe.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",inputRef:a,autoComplete:"email"})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(oe.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",inputRef:l,autoComplete:"current-password"}))),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit},"Register"),r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:!0}),r.a.createElement(Ee.a,{item:!0},r.a.createElement(fe.a,{href:"/login",variant:"body2"},"Already have an account? Log In"))),r.a.createElement(ve.a,{mt:5},r.a.createElement(Oe,null))))))})),Se=a(69),we=function(e){var t=e.component,a=Object(Se.a)(e,["component"]),c=Object(n.useContext)(S).currentUser;return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))},Te=(a(161),a(89),a(213)),De=a(217),Fe=a(216),Re=a(212),Ie=a(214),Ue=a(215),Ae=Object(x.a)({table:{minWidth:650}});function _e(e){var t=e.users,a=e.responseUsers,c=Object(n.useState)([]),l=Object(C.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(null),m=Object(C.a)(s,2),u=m[0],d=m[1],h=Ae();return Object(n.useEffect)((function(){if(t&&a){console.log(t),console.log(a);for(var e=[],n=0,r=0,c=Object.entries(t);r<c.length;r++){for(var l=Object(C.a)(c[r],2),o=l[0],s=l[1],m=!1,u=0,h=0,p=Object.entries(a);h<p.length;h++){var f=Object(C.a)(p[h],2),g=f[0],v=f[1];g===o&&(m=!0,u=v.num_symptoms,v.num_symptoms>0&&n++)}e.push({email:s.email,hasResponded:m,num_symptoms:u})}d(n/e.length*100),i(e)}}),[t,a]),r.a.createElement("div",{className:"main-container"},r.a.createElement(R.a,{variant:"h2"},"Admin Panel"),r.a.createElement("div",{className:"peopleList-container"},r.a.createElement(Re.a,{component:ge.a},r.a.createElement(Te.a,{className:h.table,size:"small","aria-label":"a dense table"},r.a.createElement(Ie.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Fe.a,{align:"left"},"Email"),r.a.createElement(Fe.a,{align:"left"},"Form submitted today?"),r.a.createElement(Fe.a,{align:"left"},"Number of symptoms"))),r.a.createElement(De.a,null,o.length>0?r.a.createElement(r.a.Fragment,null,o.map((function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Fe.a,{align:"left"},e.email),r.a.createElement(Fe.a,{align:"left"},e.hasResponded?"Yes":"No"),r.a.createElement(Fe.a,{align:"left"},e.hasResponded?r.a.createElement(R.a,null,e.num_symptoms):r.a.createElement(r.a.Fragment,null)))}))):r.a.createElement(R.a,{variant:"h2"},"No users responded today"))))),r.a.createElement("div",{className:"counter-container"},r.a.createElement("div",{className:"counter-text"},r.a.createElement(R.a,{variant:"h4"},"Percentage of people that have symptoms"," ")),r.a.createElement(M.a,{className:"divider"}),r.a.createElement("div",{className:"alt-text"},o.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"h2"},u.toFixed(0),"%")):r.a.createElement(R.a,{variant:"h2"},"No users responded today"))))}a(162);var Pe=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={people:[{email:"Fred",formFilled:!1,hasSymptoms:!1},{email:"Emily",formFilled:!1,hasSymptoms:!0},{email:"Iker@bu.edu",formFilled:!0,hasSymptoms:!1},{email:"John",formFilled:!1,hasSymptoms:!0},{email:"Alexa",formFilled:!0,hasSymptoms:!0},{email:"Sofia",formFilled:!0,hasSymptoms:!1},{email:"Carolina",formFilled:!1,hasSymptoms:!0}],users:null,responseUsers:null,counter:0},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=new Date,t=ae(e);console.log(t);var a=y.ref("users"),n=y.ref("responses/".concat(t));a.on("value",function(e){this.setState({users:e.val()})}.bind(this),(function(e){console.log("The read failed: "+e.code)})),n.on("value",function(e){this.setState({responseUsers:e.val()})}.bind(this),(function(e){console.log("The read failed: "+e.code)}));var r=0,c=0;this.state.people.map((function(e){e.hasSymptoms&&r++,c++})),this.setState({counter:r/c})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement("title",null,"CovidTrack \u2022 Admin")),r.a.createElement("div",null,r.a.createElement(P,null)),r.a.createElement(_e,{users:this.state.users,responseUsers:this.state.responseUsers}))}}]),a}(r.a.Component),We=function(e){var t=e.component,a=Object(Se.a)(e,["component"]),c=Object(n.useContext)(S).currentUser,l=Object(n.useState)([]),o=Object(C.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){!function(){var e=[];b.collection("admins").get().then((function(t){t.docs.forEach((function(t){e.push(t.data().email)})),s(e)}))}()}),[]),r.a.createElement(d.b,Object.assign({},a,{render:function(e){return c?void 0===i||0===i.length?r.a.createElement(k,null):i.includes(c.email)?r.a.createElement(t,e):r.a.createElement(T,{error_code:403,error_message:"Sorry, you do not have access to this page"}):r.a.createElement(d.a,{to:"/login"})}}))},Be=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(we,{exact:!0,path:"/",component:ue}),r.a.createElement(We,{exact:!0,path:"/admin",component:Pe}),r.a.createElement(d.b,{exact:!0,path:"/login",component:je}),r.a.createElement(d.b,{exact:!0,path:"/register",component:ke}),r.a.createElement(d.b,{component:function(){return r.a.createElement(T,{error_code:"404",error_message:"Page not found"})}}))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Be,null)),document.getElementById("root"))},67:function(e,t,a){e.exports=a.p+"static/media/login_register_img.3c77962d.jpg"},89:function(e,t,a){},95:function(e,t,a){e.exports=a.p+"static/media/logo.81a95320.png"},96:function(e,t,a){e.exports=a.p+"static/media/coronavirus.d8d37e80.png"}},[[118,1,2]]]);
//# sourceMappingURL=main.eaafa2a9.chunk.js.map